<h1 id="page-title">Stations</h1>
<div id="content">
    <input type="text" onkeydown="searchSystems(this)">

    <div id="result-list">
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
        <li>Something</li>
    </div>

</div>

<script type="application/javascript">

    function searchSystems(input) {
        if (event.key === 'Enter') {

            // TODO Make request to spansh / edsm / edds

            fetch(`https://spansh.co.uk/api/stations/search`, {
                method: 'POST',
                body: JSON.stringify({
                    filters: {
                        name: {
                            value: input.value
                        }
                    },
                    size: 500,
                })
            })
            .then(response => response.json())
            .then(data => {
                
                data.results.forEach((station) => {
                    
                    const element = document.createElement('li');

                    element.textContent = station.name;

                    $('#result-list').append(element);
                });

            })

        }
    }

</script>